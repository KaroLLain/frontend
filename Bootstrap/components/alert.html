<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Document</title>

    <script>
        function addAlert(type, text, tmieout) {
            type = type || "primary";
            text = text || "lorem ipsum dolor sit";
            tmieout = tmieout || 2000;

            let types = ["primary", "secondary", "success", "danger", "warning",
                         "info", "light", "dark"];

            type = types[Math.floor(Math.random() * types.length)];

            let aletNode = document.createElement("div");
            aletNode.classList.add("alert", "alert-" + type, "alert-dissmisible", "fade", "show");
            aletNode.setAttribute("role", "alert");

            let alertCode = `
                <div class="display-6" class="alert-heading">.alert-${type}</div>
                <p> ${text} </p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            `;

            let alertInstance = new bootstrap.Alert(aletNode);

            setTimeout(function(){
                alertInstance.close();
            }, tmieout);

            aletNode.addEventListener("close.bs.alert", function(){
                console.log("alert-" + type + "-zamknięty");
            });

            aletNode.addEventListener("closed.bs.alert", function(){
                console.log("alert-" + type + "-zamknięty");
            });

            aletNode.innerHTML = alertCode;
            let alertContainer = document.getElementById("alerts");
            alertContainer.appendChild(aletNode); // na koniec
            //alertContainer.prepend(aletNode);
        }
    </script>

</head>
<body>

<div class="container m-2">
    <button class="btn-primary m-1" onclick="addAlert();">Dodaj alert</button>
</div>
    
<div id="alerts" class="container m-1">
    <div class="alert alert-primary alert-dismissible fade show" role = "alert">
        <div class="display-6" class="alert-heading">alert-primary</div>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facilis, necessitatibus?
            <br>
            <a href="#" class="alert-link">Link alertu</a>
            </p>
        <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    
    <div class="alert alert-danger alert-dismissible fade show" role = "alert">
            <h4 class="alert-heading">alert-danger</h4>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facilis, necessitatibus?
                <br>
                <a href="#" class="alert-link">Link alertu</a>
                </p>
            <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    
    <div class="alert alert-success alert-dismissible fade show" role = "alert">
        <div class="display-6">alert-success</div>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facilis, necessitatibus?
            <br>
            <a href="#" class="alert-link">Link alertu</a>
            </p>
        <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    
    <div class="alert alert-info alert-dismissible fade show" role = "alert">
        <div class="display-6">alert-info</div>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Facilis, necessitatibus?
            <br>
            <a href="#" class="alert-link">Link alertu</a>
            </p>
        <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>